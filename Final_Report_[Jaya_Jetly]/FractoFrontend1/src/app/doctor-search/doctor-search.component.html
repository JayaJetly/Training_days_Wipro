<h2>Doctor Search</h2>

<div>
  <label for="city">City:</label>
  <select id="city" [(ngModel)]="searchCity" name="searchCity">
    <option value="">All Cities</option>
    <option *ngFor="let city of availableCities" [value]="city">{{ city }}</option>
  </select>
</div>

<div>
  <label for="specialization">Specialization:</label>
  <select id="specialization" [(ngModel)]="searchSpecializationId" name="searchSpecialization">
    <option [ngValue]="0">All Specializations</option>
    <option *ngFor="let spec of filteredSpecializations" [ngValue]="spec.specializationId">{{ spec.specializationName }}</option>
  </select>
</div>

<div>
  <label for="minRating">Minimum Rating:</label>
  <input type="number" id="minRating" [(ngModel)]="searchMinRating" name="minRating" min="0" max="5" step="0.1">
</div>

<div>
  <label for="appointmentDate">Appointment Date:</label>
  <input type="date" id="appointmentDate" [(ngModel)]="searchDate" name="searchDate" [min]="minDate">
</div>

<button (click)="searchDoctors()">Search Doctors</button>

<hr>

<h3>Available Doctors</h3>
<ul *ngIf="doctors.length > 0">
  <li *ngFor="let doctor of doctors">
    {{ doctor.name }} ({{ getSpecializationName(doctor.specialization?.specializationId) }}) - {{ doctor.city }} - Rating: {{ doctor.rating }}
    <button (click)="selectDoctor(doctor)">Select</button>
  </li>
</ul>
<p *ngIf="doctors.length === 0">No doctors found.</p>

<p *ngIf="message">{{ message }}</p>